---
layout: page
title: Apache Hadoop installation with Cloudera
description: Apache Hadoop installation with Cloudera
keywords: Apache. Hadoop, installation, virtualbox, vagrant, cloudera, cm6
permalink: /devtools/bigdata/hadoop/install/cloudera/cm6/
---


# Apache Hadoop installation with Cloudera

Working on doc:  
18.03.2020


<br/>

**You can download prapared 1 node cloudera cluster from cloudera website, and just run it in your virtual machine.**

<br/>

**Can be interesting:**

**Configuring Big Data Cluster using Cloudera Manager**  
https://www.youtube.com/watch?v=jKyJmPPmm1A



<br/>

### On Host Machine

    $ sudo vi /etc/hosts

```
#---------------------------------------------------------------------
# Cloudera cluster
#---------------------------------------------------------------------

192.168.0.10 master.cloudera master
192.168.0.11 node1.cloudera node1
192.168.0.12 node2.cloudera node2
192.168.0.13 node3.cloudera node3
```

<br/>

    $ vagrant plugin install vagrant-hostmanager

<br/>

    master - 8 GB RAM
    3 nodes - 2 GB RAM

<br/>

With 4 GB RAM for master node there were errors on installation.

<br/>

    $ mkdir ~/vagrant-hadoop-cloudera && cd ~/vagrant-hadoop-cloudera

    $ git clone https://github.com/matematika-org/vagrant-hadoop-cloudera .

    $ cd centos7

    $ vagrant box update

    $ vagrant up

    $ vagrant status
    Current machine states:

    master.cloudera             running (virtualbox)
    node1.cloudera              running (virtualbox)
    node2.cloudera              running (virtualbox)
    node3.cloudera              running (virtualbox)


<br/>

    $ vagrant ssh master.cloudera

    $ sudo su -

<br/>

**All nodes**

    # {
        echo never > /sys/kernel/mm/transparent_hugepage/defrag
        echo never > /sys/kernel/mm/transparent_hugepage/enabled
    }

and

    # vi /etc/hosts

```
remove

127.0.0.1       master.cloudera master
```

<br/>

### Install Cloudera Manager (master.clouder)

    # cd /tmp

    // cm6
    # wget https://archive.cloudera.com/cm6/6.3.1/cloudera-manager-installer.bin

also possible

    // cm5
    # wget https://archive.cloudera.com/cm5/installer/latest/cloudera-manager-installer.bin

or 

    // cm7
    # wget https://archive.cloudera.com/cm7/7.0.3/cloudera-manager-installer.bin
    

<br/>

    # chmod +x cloudera-manager-installer.bin

    # ./cloudera-manager-installer.bin

    Next --> Next --> Yes ... etc ...

<br/>

    $ service cloudera-scm-server status

<br/>

<!--
    $ netstat -nap |grep 71800
    $ curl -i http://localhost:7180
-->

**// wait 2-3 minutes**

    $ curl -i -u 'admin:admin' http://localhost:7180/api/v1/tools/echo

<br/>

**even better:**

    $ while true; do curl -i -u 'admin:admin' http://localhost:7180/api/v1/tools/echo; sleep 10; done

<br/>

response should be:

```
HTTP/1.1 200 OK
Expires: Thu, 01-Jan-1970 00:00:00 GMT
Set-Cookie: CLOUDERA_MANAGER_SESSIONID=b3ywt3my169unctxtycduab7;Path=/;HttpOnly
Content-Type: application/json
Date: Mon, 16 Mar 2020 23:49:21 GMT
Transfer-Encoding: chunked
Server: Jetty(6.1.26.cloudera.4)

{
  "message" : "Hello, World!"
}
```


<br/>

http://master.cloudera:7180/

admin/admin


<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-01.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-02.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-03.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-04.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-05.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-06.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-07.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

**Add nodes:**

<br/>

```
master.cloudera
node1.cloudera
node2.cloudera
node3.cloudera
```

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-08.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-09.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-10.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-11.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

**LOGIN/PASSWORD**  
root/root

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-12.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>


![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-13.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-14.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-15.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-16.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-17.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-18.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-19.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-20.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-21.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>


**Resume**

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-22.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-23.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-24.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-25.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

**Fallback Erasure Coding Policy - No Default Erasure Coding Policy**

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-26.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>


**Restart failed services**

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-27.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>


![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-28.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-29.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-30.png "Hadoop Cloudera Installation CM6"){: .center-image }

<br/>

![Hadoop Cloudera Installation CM6](/img/devtools/bigdata/hadoop/install/cloudera/cm6/hadoop_cloudera_cm6_install-31.png "Hadoop Cloudera Installation CM6"){: .center-image }


